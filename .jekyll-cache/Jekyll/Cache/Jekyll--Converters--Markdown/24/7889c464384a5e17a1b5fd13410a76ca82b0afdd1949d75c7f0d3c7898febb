I"Ú%<ul id="markdown-toc">
  <li><a href="#ä»‹ç»" id="markdown-toc-ä»‹ç»">ä»‹ç»</a></li>
  <li><a href="#pythonä¼˜é›…ç¼–ç¨‹-ç±»å‹æ ¡éªŒ" id="markdown-toc-pythonä¼˜é›…ç¼–ç¨‹-ç±»å‹æ ¡éªŒ">Pythonä¼˜é›…ç¼–ç¨‹-ç±»å‹æ ¡éªŒ</a>    <ul>
      <li><a href="#isinstanceæ ¡éªŒç±»å‹" id="markdown-toc-isinstanceæ ¡éªŒç±»å‹">isinstanceæ ¡éªŒç±»å‹</a></li>
      <li><a href="#ä½¿ç”¨literal_eval-æ›¿ä»£-eval" id="markdown-toc-ä½¿ç”¨literal_eval-æ›¿ä»£-eval">ä½¿ç”¨literal_eval æ›¿ä»£ eval</a></li>
      <li><a href="#strå’Œreprçš„åŒºåˆ«" id="markdown-toc-strå’Œreprçš„åŒºåˆ«">str()å’Œrepr()çš„åŒºåˆ«</a></li>
      <li><a href="#åˆ¤æ–­å¯¹è±¡æ˜¯å¦ä¸ºç©º" id="markdown-toc-åˆ¤æ–­å¯¹è±¡æ˜¯å¦ä¸ºç©º">åˆ¤æ–­å¯¹è±¡æ˜¯å¦ä¸ºç©º</a></li>
    </ul>
  </li>
</ul>

<h2 id="ä»‹ç»">ä»‹ç»</h2>

<p>Pythonä¼˜é›…ç¼–ç¨‹ä¹‹ç±»å‹æ ¡éªŒã€‚</p>

<h2 id="pythonä¼˜é›…ç¼–ç¨‹-ç±»å‹æ ¡éªŒ">Pythonä¼˜é›…ç¼–ç¨‹-ç±»å‹æ ¡éªŒ</h2>

<h3 id="isinstanceæ ¡éªŒç±»å‹">isinstanceæ ¡éªŒç±»å‹</h3>

<p>å› ä¸ºåŸºäºå†…å»ºç±»å‹æ‰©å±•çš„ç”¨æˆ·è‡ªå®šä¹‰ç±»å‹ï¼Œtype()ä¸èƒ½å‡†ç¡®è¿”å›ç»“æœï¼Œå› æ­¤åœ¨æ ¡éªŒå¯¹è±¡ç±»å‹çš„æ—¶å€™ï¼Œå»ºè®®ä½¿ç”¨isinstance()å‡½æ•°ï¼Œä¸¤è€…å¼‚åŒå¦‚ä¸‹ï¼š</p>

<ul>
  <li>type()ç”¨äºè·å–ä¸€ä¸ªæœªçŸ¥å¯¹è±¡çš„æ•°æ®ç±»å‹ï¼Œisinstance()ç”¨äºåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯å·²çŸ¥ç±»å‹</li>
  <li>type()ä¸è®¤ä¸ºå­ç±»çš„å®ä¾‹åŒ–å¯¹è±¡å±äºçˆ¶ç±»ç±»å‹ï¼Œisinstance()è®¤ä¸ºå­ç±»çš„å®ä¾‹åŒ–å¯¹è±¡å±äºçˆ¶ç±»ç±»å‹ï¼Œå³å­ç±»å¯¹è±¡ä¹Ÿå±äºçˆ¶ç±»å¯¹è±¡</li>
</ul>

<p>ä¸¤è€…éƒ½å¯ä»¥æ£€æŸ¥æŸä¸ªå˜é‡æ˜¯å¦å±äºæŸä¸€æ•°æ®ç±»å‹</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">num</span> <span class="o">=</span> <span class="mi">20</span>
<span class="k">print</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">num</span><span class="p">)))</span>
</code></pre></div></div>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Output: True
</code></pre></div></div>

<p>ä¸¤åˆ™éƒ½å¯ä»¥æ£€æŸ¥å®ä¾‹åŒ–å¯¹è±¡æ˜¯å¦å±äºæŸä¸ªç±»</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Demo</span><span class="p">():</span>
    <span class="n">num</span> <span class="o">=</span> <span class="mi">20</span>

<span class="n">d</span> <span class="o">=</span> <span class="n">Demo</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">d</span><span class="p">)))</span>
</code></pre></div></div>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Output: True

</code></pre></div></div>

<p>isinstance()èƒ½å¤Ÿåˆ¤æ–­å‡ºå­ç±»çš„å®ä¾‹åŒ–å¯¹è±¡å±äºçˆ¶ç±»ï¼Œä½†type()ä¸èƒ½</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Father</span><span class="p">():</span>
    <span class="n">n</span> <span class="o">=</span> <span class="mi">10</span>

<span class="k">class</span> <span class="nc">Son</span><span class="p">(</span><span class="n">Father</span><span class="p">):</span>
    <span class="n">m</span> <span class="o">=</span> <span class="mi">20</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">Father</span><span class="p">()</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">Son</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">Father</span><span class="p">),</span> <span class="nb">type</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">==</span> <span class="n">Father</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Output: True False
</code></pre></div></div>

<h3 id="ä½¿ç”¨literal_eval-æ›¿ä»£-eval">ä½¿ç”¨literal_eval æ›¿ä»£ eval</h3>

<p>eval()å‡½æ•°å­—ç¬¦ä¸²strå½“æˆæœ‰æ•ˆçš„è¡¨è¾¾å¼æ¥æ±‚å€¼å¹¶è¿”å›è®¡ç®—ç»“æœï¼Œå…¶ä¸­åŒ…å«å¦‚ä¸‹ä¸‰ä¸ªå‚æ•°ï¼š</p>

<ul>
  <li>source : å¿…å¡«ï¼Œä¸€ä¸ªpythonè¡¨è¾¾å¼çš„å­—ç¬¦ä¸²æˆ–è€…compile()è¿”å›çš„ä»£ç å¯¹è±¡</li>
  <li>globals : éå¿…å¡«ï¼Œå¿…é¡»æ˜¯dict</li>
  <li>locals : éå¿…å¡«ï¼Œä»»ä½•æ˜ å°„å¯¹è±¡ï¼Œé»˜è®¸ä¸globalså‚æ•°ä¸€è‡´</li>
</ul>

<p>eval()å‡½æ•°å°†ä»»ä½•å­—ç¬¦ä¸²å½“åšè¡¨è¾¾å¼æ¥å¤„ç†ï¼Œå¦‚æœglobalsï¼Œlocalså‚æ•°éƒ½ä¸æŒ‡å®šï¼Œè¡¨è¾¾å¼å°†åœ¨evalè°ƒç”¨çš„ç¯å¢ƒä¸­æ‰§è¡Œï¼Œå³é»˜è®¤ä¸ºglobals()å’Œ
locals()å‡½æ•°ä¸­åŒ…å«çš„æ‰€æœ‰æ¨¡å—å’Œå‡½æ•°ã€‚è¿™å°±ä½¿å¾—eval()å­˜åœ¨ä¸€å®šçš„é£é™©</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="nb">eval</span><span class="p">(</span><span class="s">"__import__('os').system ('dir')"</span><span class="p">))</span>
</code></pre></div></div>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Output:

2019/07/27  21:18    &lt;DIR&gt;          .
2019/07/27  21:18    &lt;DIR&gt;          ..
2019/07/26  19:32                66 .gitignore
2019/07/28  15:11    &lt;DIR&gt;          .idea
2019/07/26  19:32               700 404.html
2019/07/27  21:18             6,809 about.html
2019/07/26  19:32    &lt;DIR&gt;          css
2019/07/26  19:32             1,322 feed.xml
2019/07/26  19:32    &lt;DIR&gt;          fonts
2019/07/26  19:32             2,204 Gruntfile.js
2019/07/28  09:50    &lt;DIR&gt;          img
2019/07/26  20:22             1,240 index.html
2019/07/26  19:32    &lt;DIR&gt;          js
2019/07/26  19:32    &lt;DIR&gt;          less
2019/07/26  19:32            11,538 LICENSE
2019/07/26  19:32               644 package.json
2019/07/26  19:47                26 README.md
2019/07/26  19:32             2,178 tags.html
2019/07/26  20:57             2,721 _config.yml
2019/07/26  21:24    &lt;DIR&gt;          _includes
2019/07/26  21:57    &lt;DIR&gt;          _layouts
2019/07/28  15:10    &lt;DIR&gt;          _posts
</code></pre></div></div>

<p>ast.literal_eval()æ–¹æ³•ä¼šåˆ¤æ–­éœ€è¦è®¡ç®—çš„å†…å®¹è®¡ç®—åæ˜¯å¦æ˜¯å®‰å…¨ã€åˆæ³•çš„pythonç±»å‹ï¼Œå¦‚æœæ˜¯åˆ™è¿›è¡Œè¿ç®—ï¼Œå¦åˆ™ä¼šç›´æ¥æŠ›å‡ºå¼‚å¸¸</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">ast</span>

<span class="k">print</span><span class="p">(</span><span class="n">ast</span><span class="p">.</span><span class="n">literal_eval</span><span class="p">()(</span><span class="s">"__import__('os').system ('dir')"</span><span class="p">))</span>
</code></pre></div></div>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Output:

Traceback (most recent call last):
  File "&lt;input&gt;", line 1, in &lt;module&gt;
TypeError: literal_eval() missing 1 required positional argument: 'node_or_string'
</code></pre></div></div>

<p>å› æ­¤æ¨èä½¿ç”¨ast.literal_eval()æ›¿æ¢eval()</p>

<h3 id="strå’Œreprçš„åŒºåˆ«">str()å’Œrepr()çš„åŒºåˆ«</h3>

<p>str()é¢å‘ç”¨æˆ·ï¼Œè¿”å›å¯è¯»æ€§å¼ºçš„å­—ç¬¦ä¸²ç±»å‹
repr()é¢å‘è§£é‡Šå™¨æˆ–å¼€å‘äººå‘˜ï¼Œè¿”å›pythonè§£é‡Šå™¨å†…éƒ¨å«ä¹‰</p>

<p>è§£é‡Šå™¨ä¸­è¾“å…¥stringé»˜è®¤è°ƒç”¨repe()ï¼Œè€Œprint(â€œxxxâ€)é»˜è®¤è°ƒç”¨str()</p>

<p>repr()è¿”å›å€¼ä¸€èˆ¬å¯ç”¨eval(è¿˜åŸå¯¹è±¡)ï¼š
obj= eval(repr(obj))</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">string</span> <span class="o">=</span> <span class="s">'[1, 2, 3, 4]'</span>
<span class="k">print</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="nb">str</span><span class="p">),</span> <span class="n">string</span><span class="p">,</span> <span class="nb">repr</span><span class="p">(</span><span class="n">string</span><span class="p">))</span>
</code></pre></div></div>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Output: True [1, 2, 3, 4] '[1, 2, 3, 4]'
</code></pre></div></div>

<h3 id="åˆ¤æ–­å¯¹è±¡æ˜¯å¦ä¸ºç©º">åˆ¤æ–­å¯¹è±¡æ˜¯å¦ä¸ºç©º</h3>

<p>pythonä¸­ï¼ŒNoneï¼Œç©ºåˆ—è¡¨[]ï¼Œç©ºå­—å…¸{}ï¼Œç©ºå…ƒç»„()ï¼Œ0 ç­‰ä¸€ç³»åˆ—ä»£è¡¨ç©ºå’Œæ— çš„å¯¹è±¡ä¼šè¢«è½¬æ¢æˆFalseï¼Œé™¤æ­¤ä¹‹å¤–çš„å…¶ä»–å¯¹è±¡ä¼šè¢«è½¬åŒ–æˆTrue</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="p">[]</span> <span class="ow">or</span> <span class="p">{}</span> <span class="ow">or</span> <span class="p">()</span> <span class="ow">or</span> <span class="bp">None</span> <span class="ow">or</span> <span class="mi">0</span> <span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Output: True
</code></pre></div></div>
:ET